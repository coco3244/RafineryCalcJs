{"version":3,"sources":["../src/scriptCalc.js"],"names":["scrollContainer","document","querySelector","addJobButton","addEventListener","event","preventDefault","scrollLeft","deltaY","jobsContainer","numJob","querySelectorAll","length","jobHtml","innerHTML","newJob","selectMinerai","listeMineraisDiv","listeQuantitesDiv","target","parentNode","classList","add","remove","inputs","forEach","input","label","createElement","toString","contains","value","appendChild","setAttribute","labels","delUnit","numb","nbUnit","split","splice","join","Number"],"mappings":"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","sourcesContent":["const scrollContainer = document.querySelector(\".jobsContainer\");\r\nconst addJobButton = document.querySelector(\".addJobCont\");\r\n\r\nscrollContainer.addEventListener(\"wheel\", (event) => {\r\n  event.preventDefault();\r\n  scrollContainer.scrollLeft += event.deltaY;\r\n});\r\n\r\naddJobButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  const jobsContainer = document.querySelector(\".jobsContainer\");\r\n  \r\n  const numJob = document.querySelectorAll(\".job\").length + 1;\r\n  let jobHtml = /*html*/ `\r\n  <div class=\"job job${numJob}\" id=\"jobId_TOBECHANGED\">\r\n      <label class=\"titleJob dontmod\">${numJob}</label>\r\n\r\n      <div class=\"mineraisContainer\">\r\n                <select class=\"selectMinerai\"> \r\n                  <option>quantainum</option>\r\n                  <option>bexalite</option>\r\n                  <option>taranite</option>\r\n                  <option>borase</option>\r\n                  <option>laranite</option>\r\n                  <option>agricium</option>\r\n                  <option>hephaestanite</option>\r\n                  <option>titanium</option>                               \r\n                </select>\r\n              <button class=\"btnAddMineral\">Ajouter</button>\r\n              <button class=\"btnSuppMineral\">Supprimer</button>\r\n          <div class=\"mineraisJob\">\r\n              \r\n              \r\n              <div class=\"listeMinerais\">\r\n                  \r\n              </div>\r\n\r\n              <span class=\"separate\"></span>\r\n              <div class=\"listeQuantites\">\r\n                  \r\n              </div>\r\n          </div>\r\n          <label class=\"titreCat dontmod\">Total de ce Raffinage : </label>\r\n          <div class=\"tabCat\">\r\n              0\r\n          </div>\r\n      </div>\r\n      \r\n      <div class=\"emplacementContainer\">\r\n          <label class=\"titreCat dontmod\">Emplacement : </label>\r\n          <div class=\"tabCat\">\r\n              <input class=\"emplacement\" type=\"text\">\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"tempsContainer\">\r\n          <label class=\"titreCat dontmod\">Temps Restant : </label>\r\n          <div class=\"tabCat\">\r\n              <input class=\"temprestant\" type=\"text\">\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"btnsContainer\">\r\n          <button class=\"btnTransport\">Transporter</button>\r\n          <button class=\"btnModif hide\">Modifier</button>\r\n          <button class=\"btnConfirm\">Confirmer</button>\r\n      </div>\r\n  </div>`;\r\n  jobsContainer.innerHTML = jobHtml + jobsContainer.innerHTML;\r\n  const newJob = document.querySelector(`.job${numJob}`);\r\n  \r\n  const selectMinerai = newJob.querySelector('.selectMinerai');\r\n  const listeMineraisDiv = newJob.querySelector('.listeMinerais');\r\n  const listeQuantitesDiv = newJob.querySelector('.listeQuantites');\r\n\r\n\r\n/**\r\n * listener pour la confirmation de modification\r\n * ca cache le menu déroulant avec les minerai ainsi que les boutons ajouter et supprimer\r\n * ca transforme les input en label\r\n * ca cache le bouton confirmer et re affiche le bouton modifier\r\n */\r\nnewJob.querySelector('.btnConfirm').addEventListener('click',event=>{  \r\n  const target = event.target.parentNode;\r\n  target.querySelector('.btnConfirm').classList.add('hide');\r\n  target.querySelector('.btnModif').classList.remove('hide');\r\n  \r\n  const inputs = newJob.querySelectorAll('input');\r\n  inputs.forEach(input=>{\r\n    const label = document.createElement('label');\r\n\r\n    label.classList.add(`${input.classList.toString()}`)\r\n    if(!label.classList.contains('temprestant')&& !label.classList.contains('emplacement')){\r\n      label.innerHTML=`${input.value} cSCU`;\r\n    }else{\r\n      label.innerHTML=`${input.value}`;\r\n    }\r\n    \r\n    input.parentNode.appendChild(label);\r\n    input.remove();\r\n  })\r\n  selectMinerai.classList.add('hide');\r\n  newJob.querySelector('.btnAddMineral').classList.add('hide');\r\n  newJob.querySelector('.btnSuppMineral').classList.add('hide');\r\n}); \r\n  \r\n  /**\r\n   * listener pour ajouter un minerai\r\n   * ca cree un label et un input et ca les insère dans leur div correspondante\r\n   */\r\n  newJob.querySelector('.btnAddMineral').addEventListener('click',event=>{  \r\n    if(!listeMineraisDiv.querySelector(`.${selectMinerai.value}`)){\r\n      const input = document.createElement('input');\r\n      input.setAttribute('type','number');\r\n      input.classList.add(`${selectMinerai.value}`);\r\n      \r\n      const label = document.createElement('label');\r\n      label.classList.add(`${selectMinerai.value}`);\r\n      label.classList.add(`dontmod`);\r\n      label.innerHTML=`${selectMinerai.value}`;\r\n      \r\n      listeQuantitesDiv.appendChild(input);\r\n      listeMineraisDiv.appendChild(label);\r\n    }\r\n    \r\n    \r\n  }); \r\n  /**\r\n   * Supprime les minerai des 2 div correspondante\r\n   */\r\n  newJob.querySelector('.btnSuppMineral').addEventListener('click',event=>{    \r\n    listeQuantitesDiv.querySelector(`.${selectMinerai.value}`).remove();\r\n    listeMineraisDiv.querySelector(`.${selectMinerai.value}`).remove();   \r\n  }); \r\n\r\n  /**\r\n   * listener du bouton confirmation\r\n   * ça confirme la modification\r\n   * ca re-affiche le menu déroulant des minerai et les bouton ajouter/supprimer\r\n   * ca cache le bouton modifier et re affiche le bouton confirmer\r\n   */\r\n  newJob.querySelector('.btnModif').addEventListener('click',event=>{  \r\n    \r\n    const labels = newJob.querySelectorAll('label');\r\n    selectMinerai.classList.remove('hide');\r\n    newJob.querySelector('.btnAddMineral').classList.remove('hide');\r\n    newJob.querySelector('.btnSuppMineral').classList.remove('hide');\r\n\r\n    labels.forEach(label=>{\r\n\r\n      if(!label.classList.contains('dontmod')){\r\n        const input = document.createElement('input');\r\n        if(label.parentNode.classList.contains('listeQuantites')){\r\n          input.setAttribute('type','number');\r\n        }else{\r\n          input.setAttribute('type','text');\r\n        }\r\n        \r\n        input.classList.add(`${label.classList.toString()}`);\r\n        input.setAttribute('value',`${delUnit(label.innerHTML,5)}`)\r\n        label.parentNode.appendChild(input);\r\n        label.remove();\r\n      }\r\n    })\r\n    \r\n  const target = event.target.parentNode;\r\n  target.querySelector('.btnConfirm').classList.remove('hide');\r\n  target.querySelector('.btnModif').classList.add('hide');\r\n  }); \r\n  \r\n\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * fonction fournie par Liduen\r\n * @param {*} numb \r\n * @param {*} nbUnit \r\n * @returns \r\n */\r\nfunction delUnit(numb, nbUnit) {\r\n  numb = numb.split(\"\");\r\n  numb.splice((numb.length - nbUnit), nbUnit);\r\n  numb = numb.join(\"\");\r\n  return Number(numb);\r\n}"],"file":"scriptCalc.js"}