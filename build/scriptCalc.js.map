{"version":3,"sources":["../src/scriptCalc.js"],"names":["scrollContainer","document","querySelector","addJobButton","selectFiltre","jobsContainer","addEventListener","event","preventDefault","scrollLeft","deltaY","jobContainer","selectMinerai","target","parentNode","listeMineraisDiv","listeQuantitesDiv","classList","contains","value","input","createElement","setAttribute","add","label","innerHTML","appendChild","remove","labels","querySelectorAll","forEach","select","options","raffinerie","delUnit","inputs","toString","raffinerySelect","calculTotalUnitJob","tabTotal","calculTotalUnitGlobal","numJob","length","jobHtml","e","pseudoCont","pseudo","fetchDB","job","result","quantityLabels","jobs","numb","nbUnit","split","splice","join","Number","find","classF","targ","body"],"mappings":"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","sourcesContent":["const scrollContainer = document.querySelector('.jobsContainer');\r\nconst addJobButton = document.querySelector('.addJobCont');\r\nconst selectFiltre = document.querySelector(\"#selectFiltre\");\r\nconst jobsContainer = document.querySelector(\".jobsContainer\");\r\n\r\n\r\nscrollContainer.addEventListener('wheel',event=>{\r\n    event.preventDefault();\r\n    scrollContainer.scrollLeft += event.deltaY;\r\n});\r\n\r\njobContainer.addEventListener(\"click\", (event) => {\r\n    const selectMinerai = event.target.parentNode.parentNode.querySelector('.selectMinerai');\r\n    const listeMineraisDiv = event.target.parentNode.parentNode.querySelector('.listeMinerais');\r\n    const listeQuantitesDiv = event.target.parentNode.parentNode.querySelector('.listeQuantites');\r\n    if(event.target.classList.contains(\"btnAddMineral\")) {\r\n        /**\r\n        * listener pour ajouter un minerai\r\n        * ca cree un label et un input et ca les ins√®re dans leur div correspondante\r\n        */                          \r\n        if(!listeMineraisDiv.querySelector(`.${selectMinerai.value}`)){\r\n            const input = document.createElement('input');\r\n            input.setAttribute('type','number');\r\n            input.classList.add(`${selectMinerai.value}`);\r\n            \r\n            const label = document.createElement('label');\r\n            label.classList.add(`${selectMinerai.value}`);\r\n            label.classList.add(`dontmod`);\r\n            label.innerHTML=`${selectMinerai.value}`;\r\n            \r\n            listeQuantitesDiv.appendChild(input);\r\n            listeMineraisDiv.appendChild(label);\r\n        }     \r\n        \r\n        \r\n    }\r\n    if(event.target.classList.contains(\"btnSuppMineral\")) {\r\n        /**\r\n        * Supprime les minerai des 2 div correspondante\r\n        */                \r\n        listeQuantitesDiv.querySelector(`.${selectMinerai.value}`).remove();\r\n        listeMineraisDiv.querySelector(`.${selectMinerai.value}`).remove();   \r\n        \r\n    }\r\n    if(event.target.classList.contains(\"btnModif\")) {\r\n        /**\r\n        * listener du bouton confirmation\r\n        * √ßa confirme la modification\r\n        * ca re-affiche le menu d√©roulant des minerai et les bouton ajouter/supprimer\r\n        * ca cache le bouton modifier et re affiche le bouton confirmer\r\n        */\r\n        event.target.parentNode.querySelector('.btnConfirm').classList.remove('hide');\r\n        event.target.parentNode.querySelector('.btnModif').classList.add('hide');\r\n        \r\n        const labels = event.target.parentNode.parentNode.querySelectorAll('label');\r\n        selectMinerai.classList.remove('hide');\r\n        event.target.parentNode.parentNode.querySelector('.btnAddMineral').classList.remove('hide');\r\n        event.target.parentNode.parentNode.querySelector('.btnSuppMineral').classList.remove('hide');\r\n        \r\n        labels.forEach(label=>{\r\n            \r\n            if(!label.classList.contains('dontmod')){\r\n                const input = document.createElement('input');\r\n                if(label.parentNode.classList.contains('listeQuantites')){\r\n                    input.setAttribute('type','number');\r\n                }else{\r\n                    input.setAttribute('type','text');\r\n                }\r\n                \r\n                if(label.classList.contains('Raffinery')){\r\n                    const select = document.createElement('select');\r\n                    select.innerHTML=`\r\n                    <option>CRU-L1</option>\r\n                    <option>ARC-L1</option>\r\n                    <option>ARC-L2</option>\r\n                    <option>HUR-L1</option>\r\n                    <option>HUR-L2</option>\r\n                    <option>MIC-L2</option>                             \r\n                    `\r\n                    select.classList.add('Raffinery')\r\n                    const options = select.querySelectorAll('option');\r\n                    const raffinerie = label.innerHTML;\r\n                    options.forEach(value=>{\r\n                        if(value.innerHTML===raffinerie){\r\n                            select.value=raffinerie;\r\n                        }\r\n                    });\r\n                    label.parentNode.appendChild(select)\r\n                    label.remove();\r\n                }else{\r\n                    input.classList.add(`${label.classList[1]}`);\r\n                    input.setAttribute('value',`${delUnit(label.innerHTML,5)}`)\r\n                    label.parentNode.appendChild(input);\r\n                    label.remove();\r\n                }\r\n                \r\n            }\r\n        })\r\n        \r\n       \r\n        \r\n    }\r\n\r\n     /**\r\n        * Si on clique sur le bouton confirmer\r\n        * ca cache le menu d√©roulant avec les minerai ainsi que les boutons ajouter et supprimer\r\n        * ca transforme les input en label\r\n        * ca cache le bouton confirmer et re affiche le bouton modifier\r\n        */\r\n    if(event.target.classList.contains(\"btnConfirm\")) {\r\n       \r\n        event.target.parentNode.querySelector('.btnConfirm').classList.add('hide');\r\n        event.target.parentNode.querySelector('.btnModif').classList.remove('hide');\r\n        \r\n        const inputs = event.target.parentNode.parentNode.querySelectorAll('input');\r\n        inputs.forEach(input=>{\r\n            const label = document.createElement('label');\r\n            \r\n            label.classList.add(`${input.classList.toString()}`)\r\n            if(input.parentNode.classList.contains('listeQuantites')){\r\n                label.classList.add('MineralQuantityLabel');\r\n            }\r\n            if(!label.classList.contains('temprestant')){\r\n                label.innerHTML=`${input.value} cSCU`;\r\n            }else{\r\n                label.innerHTML=`${input.value}`;\r\n            }\r\n            \r\n            input.parentNode.appendChild(label);\r\n            input.remove();\r\n        })\r\n        \r\n        const raffinerySelect = event.target.parentNode.parentNode.querySelector('.Raffinery')\r\n        const label = document.createElement('label');\r\n        \r\n        label.classList.add(`${raffinerySelect.classList.toString()}`)\r\n        label.innerHTML=raffinerySelect.value\r\n        raffinerySelect.parentNode.appendChild(label)\r\n        raffinerySelect.remove();\r\n        selectMinerai.classList.add('hide');\r\n        \r\n        event.target.parentNode.parentNode.querySelector('.btnAddMineral').classList.add('hide');\r\n        event.target.parentNode.parentNode.querySelector('.btnSuppMineral').classList.add('hide');\r\n        event.target.parentNode.parentNode.querySelector('.totalJobDiv').innerHTML=`Total: ${calculTotalUnitJob(event.target.parentNode.parentNode)}`\r\n        \r\n        const tabTotal = document.querySelector('.tabTotal');\r\n\r\n        tabTotal.innerHTML=`Total global cSCU: ${calculTotalUnitGlobal(document.querySelectorAll('.job'))}`;\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\naddJobButton.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    const numJob = document.querySelectorAll(\".job\").length + 1;\r\n    let jobHtml = /*html*/ `\r\n    <div class=\"job job${numJob}\" id=\"jobId_TOBECHANGED\">\r\n        <label class=\"titleJob dontmod\">${numJob}</label>\r\n\r\n        <div class=\"mineraisContainer\">\r\n                    <select class=\"selectMinerai\"> \r\n                    <option>quantainum</option>\r\n                    <option>bexalite</option>\r\n                    <option>taranite</option>\r\n                    <option>borase</option>\r\n                    <option>laranite</option>\r\n                    <option>agricium</option>\r\n                    <option>hephaestanite</option>\r\n                    <option>titanium</option>                               \r\n                    </select>\r\n                <button class=\"btnAddMineral\">Ajouter</button>\r\n                <button class=\"btnSuppMineral\">Supprimer</button>\r\n            <div class=\"mineraisJob\">\r\n                \r\n                \r\n                <div class=\"listeMinerais\">\r\n                    \r\n                </div>\r\n\r\n                <span class=\"separate\"></span>\r\n                <div class=\"listeQuantites\">\r\n                    \r\n                </div>\r\n            </div>\r\n           \r\n            \r\n            <label class=\"titreCat dontmod\">Total de ce Raffinage : </label>\r\n            <div class=\"tabCat totalJobDiv\">\r\n                0\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"emplacementContainer\">\r\n            <label class=\"titreCat dontmod\">Emplacement : </label>\r\n            <div class=\"tabCat\">\r\n                <select class=\"Raffinery\"> \r\n                    <option>CRU-L1</option>\r\n                    <option>ARC-L1</option>\r\n                    <option>ARC-L2</option>\r\n                    <option>HUR-L1</option>\r\n                    <option>HUR-L2</option>\r\n                    <option>MIC-L2</option>                             \r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tempsContainer\">\r\n            <label class=\"titreCat dontmod\">Temps Restant : </label>\r\n            <div class=\"tabCat\">\r\n                <input class=\"temprestant\" type=\"text\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"btnsContainer\">\r\n            <button class=\"btnTransport\">Transporter</button>\r\n            <button class=\"btnModif hide\">Modifier</button>\r\n            <button class=\"btnConfirm\">Confirmer</button>\r\n        </div>\r\n    </div>`;\r\n  jobsContainer.innerHTML = jobHtml + jobsContainer.innerHTML;\r\n});\r\n\r\n\r\nselectFiltre.addEventListener(\"input\", e => {\r\n    //console.log(selectFiltre.value);\r\n    const pseudoCont = document.querySelector(\"#pseudoAct\");\r\n    const pseudo = pseudoCont.innerHTML;\r\n    fetchDB(pseudo, selectFiltre.value);\r\n})\r\n\r\n\r\n\r\n/**\r\n * Fonction qui calcul le total d'unit√© (cSCU) dans le job donn√©\r\n * @param {*} job La div du job\r\n * @returns Le total d'unit√©\r\n */\r\nfunction calculTotalUnitJob(job){\r\n    let result = 0;\r\n    const quantityLabels = job.querySelectorAll('.MineralQuantityLabel');\r\n    quantityLabels.forEach(value=>{\r\n        \r\n        result+=delUnit(value.innerHTML,5);\r\n    })\r\n    return result;\r\n}\r\n\r\n\r\nfunction calculTotalUnitGlobal(jobs){\r\n    let result =0;\r\n    jobs.forEach(job=>{\r\n        result+=calculTotalUnitJob(job);\r\n    })\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n* fonction fournie par Liduen\r\n* @param {*} numb \r\n* @param {*} nbUnit \r\n* @returns \r\n*/\r\nfunction delUnit(numb, nbUnit) {\r\n    numb = numb.split(\"\");\r\n    numb.splice((numb.length - nbUnit), nbUnit);\r\n    numb = numb.join(\"\");\r\n    return Number(numb);\r\n}\r\n/**\r\n * fonction fournie par Liduen\r\n * @param {*} classF \r\n * @param {*} e \r\n * @returns \r\n */\r\nfunction find(classF, e) {\r\n    let targ = e.target;\r\n    while(!targ.classList.contains(classF)) {\r\n        targ = targ.parentNode;\r\n\r\n        if(targ === document.body) {break;}\r\n    } \r\n    return targ;\r\n}"],"file":"scriptCalc.js"}