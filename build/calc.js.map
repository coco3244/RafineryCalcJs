{"version":3,"sources":["../src/calc.js"],"names":["boutonPlus","document","querySelector","boutonMoins","addButton","remButton","listeMinerai","quantainumTR","lineTabl","querySelectorAll","jobTR","inputs","thJob","thJobRes","addListenerOnInput","addEventListener","event","classes","value","forEach","classList","remove","add","contains","newTh","createElement","length","innerHTML","button","appendChild","newTd","saisie","setAttribute","console","log","target","classeDuParent","parentNode","toutLeBordel","count","count2","ths","vals","className","tds","count3","units","tdJob","minerai","allTrWithResLine","values","tdToModify"],"mappings":"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","sourcesContent":["\r\n\r\nconst boutonPlus = document.querySelector('.boutonPlus');\r\nconst boutonMoins = document.querySelector('.boutonMoins');\r\nconst addButton = document.querySelector('.addButton');\r\nconst remButton = document.querySelector('.remButton')\r\nconst listeMinerai= document.querySelector('.listeMinerai');\r\nconst quantainumTR=document.querySelector('.quantainum');\r\nconst lineTabl = document.querySelectorAll('.lineTab');\r\nconst jobTR = document.querySelector('.job');\r\nlet inputs = document.querySelectorAll('input');\r\nlet thJob;\r\nlet thJobRes;\r\naddListenerOnInput();\r\n\r\n\r\n/**\r\n * Ajout de la ligne du minerai selectionné\r\n */\r\naddButton.addEventListener('click',(event)=>{\r\n    let classes = document.querySelectorAll(`.${listeMinerai.value}`);\r\n    classes.forEach(value=>{\r\n        value.classList.remove('hide')\r\n    })\r\n\r\n})\r\n/**\r\n * Suppression de la ligne du minerai selectionné\r\n */\r\nremButton.addEventListener('click',(event)=>{\r\n    let classes = document.querySelectorAll(`.${listeMinerai.value}`);\r\n    classes.forEach(value=>{\r\n        value.classList.add('hide');\r\n    })\r\n})\r\n\r\n/**\r\n * Ajout d'une colonne de job\r\n */\r\nboutonPlus.addEventListener('click',(event)=>{  \r\n    thJob = document.querySelectorAll('.thJob');\r\n    lineTabl.forEach(value=>{\r\n        if(value.classList.contains('job')){\r\n            const newTh = document.createElement('th');\r\n            if(!value.classList.contains('resLine')){\r\n                newTh.classList.add('thJob');\r\n            }else{\r\n                newTh.classList.add('thJobRes');\r\n            }         \r\n            newTh.classList.add(`job${thJob.length+1}`);\r\n            newTh.innerHTML=`Job ${thJob.length+1}`;\r\n            if(!value.classList.contains('resLine')){\r\n                const button = document.createElement('button');\r\n                button.classList.add('suppbtn');\r\n                button.innerHTML='X';\r\n                newTh.appendChild(button);\r\n            }\r\n            value.appendChild(newTh);\r\n        }else{\r\n            const newTd = document.createElement('td');\r\n            newTd.classList.add(`job${thJob.length+1}`);\r\n            if(value.classList.contains('resLine')){\r\n                const saisie = document.createElement('H2');\r\n                saisie.innerHTML='0';\r\n                newTd.appendChild(saisie);\r\n            }else{\r\n                const saisie = document.createElement('input');\r\n                saisie.setAttribute('type','number');\r\n                saisie.setAttribute('min','0');\r\n                newTd.appendChild(saisie);\r\n            }\r\n            \r\n            value.appendChild(newTd);\r\n        }\r\n        \r\n    })\r\n    inputs = document.querySelectorAll('input');\r\n    addListenerOnInput();\r\n    console.log(inputs);\r\n})\r\n\r\n\r\njobTR.addEventListener('click',(event)=>{\r\n    thJob = document.querySelectorAll('.thJob');\r\n    if(event.target.classList.contains('suppbtn')){\r\n        const classeDuParent = event.target.parentNode.classList[1];\r\n        \r\n        const toutLeBordel = document.querySelectorAll(`.${classeDuParent}`);\r\n        toutLeBordel.forEach(value =>{\r\n            value.remove();\r\n        })\r\n        \r\n        let count = 1;\r\n        lineTabl.forEach(value => {           \r\n            let count2=1;\r\n                const ths = value.querySelectorAll('th'); \r\n               // console.warn(ths);     \r\n                ths.forEach(vals=>{\r\n                   \r\n                    if(vals.classList.contains('thJobRes')){\r\n                        vals.className=\"\";\r\n                        vals.classList.add(`thJobRes`);\r\n                        vals.classList.add(`job${count2}`);\r\n                        vals.innerHTML=`job ${count2}`;\r\n                    }else{\r\n                        vals.className=\"\";\r\n                        vals.classList.add(`thJob`);\r\n                        vals.classList.add(`job${count2}`);\r\n                        vals.innerHTML=`job ${count2}`;\r\n                        const button = document.createElement('button');\r\n                        button.classList.add('suppbtn');\r\n                        button.classList.add(`SuppButton${count2}`);\r\n                        button.innerHTML='X';\r\n                        vals.appendChild(button);\r\n                    }\r\n                                         \r\n                    count2++;\r\n                })\r\n                        \r\n                const tds = value.querySelectorAll('td');\r\n                let count3=1;\r\n                tds.forEach(vals=>{\r\n                    if(count3!=1){\r\n                        vals.className=\"\";\r\n                        vals.classList.add(`job${count2}`);              \r\n                        count2++;\r\n                    }\r\n                    count3++;\r\n                \r\n                })\r\n\r\n            \r\n            count++;\r\n        });\r\n        \r\n        \r\n    }\r\n    \r\n})\r\n\r\nfunction addListenerOnInput(){\r\n\r\n    inputs.forEach(value=>{\r\n    \r\n        value.addEventListener('input',(event)=>{\r\n            const units =event.target.value; // ce qui est entré dans l'input, dans notre cas les unité de minerai\r\n            \r\n            const tdJob = event.target.parentNode.classList[0]; //censé récuperrer quel job et donc quelle colonne\r\n            const minerai = event.target.parentNode.parentNode.classList[0]; //recupere quel minerai a été modifié\r\n           \r\n            const allTrWithResLine = document.querySelectorAll('.resLine'); //je prend tout ce qui contien la class resLine\r\n            allTrWithResLine.forEach(values=>{\r\n                if(values.classList.contains(`${minerai}`)){\r\n                    \r\n                    const tdToModify = values.querySelector(`.${tdJob}`); //je chope le td de la bonne colonne\r\n                    tdToModify.querySelector('H2').innerHTML=units;\r\n    \r\n                }\r\n               \r\n            })\r\n           \r\n    \r\n    \r\n    \r\n            \r\n        })\r\n    \r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"calc.js"}